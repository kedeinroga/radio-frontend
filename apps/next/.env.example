# ==========================================
# Backend API Configuration
# ==========================================

# ✅ Backend API URL (SERVER-SIDE ONLY)
# This variable is NOT exposed to the client (no NEXT_PUBLIC_ prefix)
# The frontend calls /api/* routes which proxy to this URL server-side
# This keeps the real backend URL hidden from the browser

# Development
API_URL=http://localhost:8080/api/v1

# Production example:
# API_URL=https://api.rradio.online/api/v1

# ❌ IMPORTANT: DO NOT USE NEXT_PUBLIC_API_URL
# The old NEXT_PUBLIC_API_URL exposed the backend URL to the client (SECURITY RISK)
# We now use API_URL (without NEXT_PUBLIC_) which is only available server-side

# ==========================================
# Stripe Configuration
# ==========================================

# Stripe Secret Key (NEVER commit the real key!)
# Get from: https://dashboard.stripe.com/apikeys
# Test mode: sk_test_51ABC...
# Live mode: sk_live_51ABC...
STRIPE_SECRET_KEY=

# Stripe Webhook Secret
# Get from: https://dashboard.stripe.com/webhooks
# Used to validate webhook signatures
STRIPE_WEBHOOK_SECRET=

# Stripe Publishable Key (safe to expose to client)
# Test mode: pk_test_51ABC...
# Live mode: pk_live_51ABC...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=

# Stripe Price IDs
# Create products and prices at: https://dashboard.stripe.com/products
# Monthly plan: ~$4.99/month
# Yearly plan: ~$49.99/year (17% discount)
STRIPE_PRICE_ID_MONTHLY=
STRIPE_PRICE_ID_YEARLY=

# ==========================================
# App Configuration
# ==========================================

# Node environment
# Options: development | production | test
NODE_ENV=development

# Public URL of the application
# Development: http://localhost:3000
# Production: https://tu-dominio.com
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ==========================================
# Optional: Analytics & Monitoring
# ==========================================

# Sentry DSN for error tracking
# Get from: https://sentry.io/settings/projects/
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Google Analytics Measurement ID
# Get from: https://analytics.google.com/
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ==========================================
# Setup Instructions
# ==========================================

# 1. Copy this file to .env.local:
#    cp .env.example .env.local

# 2. Set API_URL to your backend URL:
#    - Development: http://localhost:8080/api/v1
#    - Production: https://api.your-domain.com/api/v1

# 3. Create a Stripe account (if you don't have one):
#    https://dashboard.stripe.com/register

# 4. Get your Stripe API keys:
#    https://dashboard.stripe.com/test/apikeys

# 5. Create Stripe products and prices:
#    a. Go to: https://dashboard.stripe.com/test/products
#    b. Create "Premium Monthly" product ($4.99/month recurring)
#    c. Create "Premium Yearly" product ($49.99/year recurring)
#    d. Copy the price IDs (start with "price_")

# 6. Configure Stripe webhooks:
#    a. Go to: https://dashboard.stripe.com/test/webhooks
#    b. Add endpoint: http://localhost:3000/api/webhooks/stripe
#    c. Select events:
#       - checkout.session.completed
#       - customer.subscription.created
#       - customer.subscription.updated
#       - customer.subscription.deleted
#       - invoice.payment_failed
#    d. Copy the webhook signing secret (starts with "whsec_")

# 7. Fill in all the placeholders above with your real values

# 8. Verify configuration:
#    npm run dev
#    - You should NOT see any API_URL errors

# ==========================================
# Security Notes
# ==========================================

# ❌ NEVER commit .env.local to git!
# ❌ NEVER expose STRIPE_SECRET_KEY in client-side code!
# ❌ NEVER expose STRIPE_WEBHOOK_SECRET in client-side code!
# ❌ NEVER use NEXT_PUBLIC_ prefix for sensitive data!
# ✅ Only variables prefixed with NEXT_PUBLIC_ are exposed to the browser
# ✅ Keep test and production keys in separate environments
# ✅ Rotate keys regularly and after any suspected compromise
# ✅ API_URL is server-side only - the client never sees it
